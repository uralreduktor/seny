## Техническое задание на разработку системы «TenderFlow KB AI»

## 1. Название и назначение системы

**TenderFlow KB AI** — Единая корпоративная платформа для полного цикла участия в тендерных закупках в роли поставщика сложного машиностроительного оборудования (индустриальные редукторы, мотор-редукторы, шестерни, специальные комплектующие).

### Основные цели системы

1. Управление всем жизненным циклом тендеров (от обнаружения до анализа результатов).
2. Централизованное хранение и повторное использование инженерных расчётов ценообразования и методик.
3. Автоматизация подготовки тендерной документации:
   - заполнение форм и документов заказчика,
   - формирование технико-коммерческих предложений (ТКП),
   - подготовка комплекта документов для подачи на ЭТП.
4. Исключение повторных инженерных расчётов за счёт AI-поиска аналогов и интеллектуального ассистента.
5. Сокращение среднего времени подготовки одного тендерного предложения минимум на 40 % и увеличение количества поданных заявок на 30–50 % в год.

## 2. Целевая аудитория и масштаб

- Инженеры-сметчики и конструкторы
- Менеджеры тендерного отдела — 3–5 чел.
- Руководство
- Планируемый рост: до 15 одновременных пользователей через 12 месяцев

## 3. Три основных модуля системы

| №   | Модуль                                              | Ключевые задачи                                                                |
| --- | --------------------------------------------------- | ------------------------------------------------------------------------------ |
| 1   | Управление торгами (Tender Management)              | Жизненный цикл тендера, дедлайны, задачи, уведомления, канбан/календарь        |
| 2   | База знаний по ценообразованию с AI (Pricing KB AI) | Хранение расчётов, шаблоны, умный поиск, AI-ассистент, OCR чертежей            |
| 3   | Подготовка тендерной документации (DocFlow)         | Автозаполнение форм заказчика, генерация ТКП, комплектование пакета документов |

## 4. Подробное описание модуля 3 «Подготовка тендерной документации»

### Основные функции

| Функция                        | Описание                                                                                                                                   |
| ------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------ |
| Библиотека шаблонов документов | Хранение всех форм заказчиков (ЕИС, Сбербанк-АСТ, Росэлторг, коммерческие ЭТП, корпоративные формы) в редактируемом виде                   |
| Автозаполнение форм            | Извлечение данных из расчёта стоимости и карточки тендера → автоматическое заполнение полей в Word/Excel/PDF-формах                        |
| Генерация ТКП                  | Один клик → готовое технико-коммерческое предложение в фирменном стиле (Word + PDF с ЭП)                                                   |
| Комплектование пакета          | Чек-лист обязательных документов → система сама собирает: ТКП, расчёт, чертежи, сертификаты, доверенности, банковскую гарантию (если есть) |
| Электронная подпись            | Интеграция с КриптоПро / Рутокен — подписание всего пакета прямо в системе                                                                 |
| Экспорт на ЭТП                 | Прямой экспорт комплекта в форматы ЭТП или подготовка zip-архива по требованиям площадки                                                   |
| Версионирование документации   | История всех версий ТКП и форм с возможностью отката                                                                                       |

### Ключевые сценарии модуля DocFlow

1. Инженер завершил расчёт → нажимает «Сформировать ТКП» → система подтягивает все данные и генерирует документ за < 2 минуты.
2. Менеджер открывает карточку тендера → видит кнопку «Скачать полный пакет для подачи» → получает готовый подписанный zip.
3. Заказчик прислал свою форму в Excel → загружается один раз → в дальнейшем заполняется автоматически.

## 5. Полный перечень ключевых функций системы

### Модуль 1 — Управление торгами

- Импорт тендеров с ЕИС и коммерческих ЭТП
- Канбан-доска + календарь дедлайнов
- Настраиваемые стадии и чек-листы
- Уведомления (почта, Telegram)
- Назначение ответственных
- Аналитика воронки и загрузки сотрудников

### Модуль 2 — База знаний по ценообразованию с AI

- Хранение полной истории расчётов (стандартные / нестандартные редукторы, шестерни, КД)
- Прикрепление чертежей (PDF, DWG, STEP)
- Векторный поиск + поиск по параметрам и естественному языку
- OCR + Computer Vision для извлечения параметров из чертежей
- AI-ассистент (Claude / GPT-5 + RAG) для подсказок и проверки расчётов
- Прогнозирование стоимости и маржи
- Шаблоны расчётов и технологических маршрутов

### Модуль 3 — Подготовка тендерной документации

- Все функции из раздела 4

## 6. Нефункциональные требования (финальные)

- Поиск по базе знаний — < 2 сек
- Генерация ТКП — < 2 минуты
- Обработка чертежа (OCR + извлечение параметров) — < 600 сек
- Uptime — 99,5 %
- Ежедневный бэкап + точка восстановления
- Полное шифрование конфиденциальных расчётов и чертежей
- Ролевая модель (админ, руководитель, инженер, чтение-only)

## 7. Технологический стек (финальный)

| Слой        | Технологии                                                                                 |
| ----------- | ------------------------------------------------------------------------------------------ |
| Backend     | Python 3.11, FastAPI, PostgreSQL 16 + pgvector                                             |
| AI/ML       | Claude 3.5 / GPT-4o, OpenAI embeddings, LangChain/LlamaIndex, Tesseract + YOLOv8 (чертежи) |
| Frontend    | React 18 + TypeScript + Tailwind CSS                                                       |
| Файлы       | MinIO (S3-совместимое)                                                                     |
| Кеш/очереди | Redis + Celery                                                                             |
| Деплой      | Docker + Kubernetes (или Docker Compose для старта)                                        |

## 8. Этапы и сроки (MVP-подход)

| Этап                 | Содержание                                                                                     | Срок                 |
| -------------------- | ---------------------------------------------------------------------------------------------- | -------------------- |
| MVP 1 (3 месяца)     | Управление торгами + базовое хранение расчётов + простой векторный поиск + ручное создание ТКП | февраль–апрель 2026  |
| MVP 2 (3 месяца)     | AI-ассистент + OCR чертежей + автозаполнение форм + генерация ТКП в 1 клик                     | май–июль 2026        |
| Релиз 1.0 (2 месяца) | Прогнозирование стоимости + интеграции с ЭТП + электронная подпись + аналитика                 | август–сентябрь 2026 |

## 9. Ожидаемые результаты через 12 месяцев после ввода в эксплуатацию

- Снижение трудозатрат на подготовку одного тендера — ≥ 40 %
- Доля повторно использованных расчётов — ≥ 65 %
- Рост количества поданных заявок — +200…500 %
- Сокращение ошибок в документации — до нуля (за счёт автозаполнения)
- Увеличение выигрышей в тендерах стоимостью > 15 млн ₽ — +15–25 п.п.
