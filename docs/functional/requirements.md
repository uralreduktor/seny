# Функциональные и нефункциональные требования

## Функциональные требования

### Модуль 1: Управление торгами (Tender Management)

#### FR-1: Импорт тендеров
- **Описание**: Система должна автоматически импортировать тендеры с ЕИС и коммерческих ЭТП
- **Приоритет**: Высокий
- **Критерии приёмки**:
  - Импорт по расписанию (ежедневно)
  - Парсинг ключевых параметров (дедлайн, бюджет, требования)
  - Создание карточек тендеров в системе
  - Ручной импорт через API

#### FR-2: Управление жизненным циклом
- **Описание**: Система должна поддерживать настраиваемые стадии тендера
- **Приоритет**: Высокий
- **Критерии приёмки**:
  - Стандартные стадии: Обнаружен, На рассмотрении, В работе, Расчёт стоимости, Подготовка документов, Подача, Ожидание результатов, Выигран/Проигран
  - Возможность создания кастомных стадий
  - Автоматические действия при смене стадии

#### FR-3: Канбан-доска
- **Описание**: Визуализация тендеров по стадиям в виде канбан-доски
- **Приоритет**: Высокий
- **Критерии приёмки**:
  - Drag & drop для перемещения между стадиями
  - Фильтрация по ответственным, дедлайнам, статусам
  - Поиск по названию, номеру, заказчику
  - Цветовая индикация по приоритету

#### FR-4: Календарь дедлайнов
- **Описание**: Отображение дедлайнов в календарном виде
- **Приоритет**: Средний
- **Критерии приёмки**:
  - Отображение в виде календаря (день, неделя, месяц)
  - Фильтрация по периодам
  - Экспорт в календарные приложения (iCal)

#### FR-5: Уведомления
- **Описание**: Уведомления о важных событиях через Email и Telegram
- **Приоритет**: Высокий
- **Критерии приёмки**:
  - Уведомления о приближении дедлайна (за 7, 3, 1 день)
  - Уведомления о назначении ответственным
  - Уведомления об изменении статуса
  - Настройка каналов уведомлений пользователем

#### FR-6: Аналитика
- **Описание**: Отчёты и аналитика по тендерам
- **Приоритет**: Средний
- **Критерии приёмки**:
  - Воронка тендеров по стадиям
  - Загрузка сотрудников
  - Процент выигрышей
  - Среднее время подготовки предложения

### Модуль 2: База знаний по ценообразованию с AI (Pricing KB AI)

#### FR-7: Хранение расчётов
- **Описание**: Централизованное хранение всех расчётов стоимости
- **Приоритет**: Высокий
- **Критерии приёмки**:
  - Хранение полной истории расчётов
  - Поддержка различных типов оборудования
  - Версионирование расчётов
  - Связь с тендерами

#### FR-8: Векторный поиск
- **Описание**: Интеллектуальный поиск похожих расчётов с использованием RAG
- **Приоритет**: Высокий
- **Критерии приёмки**:
  - Поиск по параметрам (мощность, передаточное число)
  - Поиск по естественному языку
  - Время поиска <2 секунды
  - Точность >70% релевантных результатов в топ-5

#### FR-9: OCR чертежей
- **Описание**: Автоматическое извлечение параметров из чертежей
- **Приоритет**: Высокий
- **Критерии приёмки**:
  - Поддержка форматов: PDF, DWG, STEP
  - Точность OCR >90% для печатного текста
  - Время обработки <600 секунд
  - Извлечение >80% ключевых параметров

#### FR-10: AI-ассистент
- **Описание**: Помощь инженерам через AI-ассистента с использованием RAG
- **Приоритет**: Высокий
- **Критерии приёмки**:
  - Проверка расчётов на ошибки
  - Предложения по оптимизации
  - Объяснение методик расчёта
  - Ответы на вопросы по ценообразованию

#### FR-11: Прогнозирование стоимости
- **Описание**: Предсказание стоимости на основе исторических данных
- **Приоритет**: Низкий
- **Критерии приёмки**:
  - Средняя ошибка прогноза <15%
  - Учёт параметров оборудования
  - Корректировка на инфляцию

#### FR-12: Шаблоны расчётов
- **Описание**: Создание и использование шаблонов для типовых позиций
- **Приоритет**: Средний
- **Критерии приёмки**:
  - Создание шаблонов
  - Применение шаблонов к новым расчётам
  - Версионирование шаблонов

### Модуль 3: Подготовка тендерной документации (DocFlow)

#### FR-13: Библиотека шаблонов
- **Описание**: Хранение шаблонов документов заказчиков
- **Приоритет**: Высокий
- **Критерии приёмки**:
  - Поддержка форматов: Word, Excel, PDF
  - Разметка полей для автозаполнения
  - Версионирование шаблонов
  - Категоризация по заказчикам

#### FR-14: Автозаполнение форм
- **Описание**: Автоматическое заполнение форм данными из расчёта и тендера
- **Приоритет**: Высокий
- **Критерии приёмки**:
  - Извлечение данных из связанных сущностей
  - Заполнение всех помеченных полей
  - Предпросмотр перед сохранением
  - Возможность ручной корректировки

#### FR-15: Генерация ТКП
- **Описание**: Генерация технико-коммерческого предложения в один клик
- **Приоритет**: Высокий
- **Критерии приёмки**:
  - Генерация за <2 минуты
  - Использование фирменного стиля
  - Формирование в Word и PDF
  - Возможность редактирования

#### FR-16: Комплектование пакета
- **Описание**: Автоматический сбор комплекта документов для подачи
- **Приоритет**: Высокий
- **Критерии приёмки**:
  - Чек-лист обязательных документов
  - Автоматический сбор из системы
  - Проверка полноты пакета
  - Формирование zip-архива

#### FR-17: Электронная подпись
- **Описание**: Подписание документов через КриптоПро / Рутокен
- **Приоритет**: Средний
- **Критерии приёмки**:
  - Интеграция с КриптоПро
  - Интеграция с Рутокен
  - Массовое подписание
  - Проверка подписей

#### FR-18: Экспорт на ЭТП
- **Описание**: Прямой экспорт комплекта в форматы ЭТП
- **Приоритет**: Низкий
- **Критерии приёмки**:
  - Поддержка форматов ЕИС, Сбербанк-АСТ, Росэлторг
  - Валидация перед экспортом
  - История экспортов

#### FR-19: Версионирование документации
- **Описание**: История всех версий документов с возможностью отката
- **Приоритет**: Средний
- **Критерии приёмки**:
  - Сохранение всех версий
  - Сравнение версий
  - Откат к предыдущей версии
  - Комментарии к версиям

## Нефункциональные требования

### Производительность

#### NFR-1: Время отклика поиска
- **Требование**: Поиск по базе знаний должен выполняться за <2 секунды
- **Измерение**: 95-й перцентиль времени отклика

#### NFR-2: Генерация ТКП
- **Требование**: Генерация ТКП должна выполняться за <2 минуты
- **Измерение**: Среднее время генерации

#### NFR-3: Обработка чертежа
- **Требование**: Обработка чертежа (OCR + извлечение параметров) должна выполняться за <600 секунд
- **Измерение**: Максимальное время обработки сложного чертежа

### Надёжность

#### NFR-4: Доступность системы
- **Требование**: Uptime системы должен составлять 99,5%
- **Измерение**: Процент времени доступности за месяц

#### NFR-5: Резервное копирование
- **Требование**: Ежедневный бэкап + точка восстановления
- **Измерение**: Наличие актуальных бэкапов

### Безопасность

#### NFR-6: Шифрование данных
- **Требование**: Полное шифрование конфиденциальных расчётов и чертежей
- **Измерение**: Проверка шифрования на уровне БД и хранилища

#### NFR-7: Ролевая модель
- **Требование**: Реализация ролевой модели (админ, руководитель, инженер, чтение-only)
- **Измерение**: Тестирование прав доступа для каждой роли

### Масштабируемость

#### NFR-8: Рост пользователей
- **Требование**: Система должна поддерживать рост до 15 одновременных пользователей
- **Измерение**: Нагрузочное тестирование

### Удобство использования

#### NFR-9: Интерфейс
- **Требование**: Интуитивно понятный интерфейс, обучение новых пользователей <2 часов
- **Измерение**: Тестирование удобства использования

## Метрики успеха

### Бизнес-метрики (через 12 месяцев)

1. Снижение трудозатрат на подготовку одного тендера — **≥40%**
2. Доля повторно использованных расчётов — **≥65%**
3. Рост количества поданных заявок — **+200–500%**
4. Сокращение ошибок в документации — **до нуля**
5. Увеличение выигрышей в тендерах стоимостью >15 млн ₽ — **+15–25 п.п.**

### Технические метрики

1. Время отклика API — **<500ms** (95-й перцентиль)
2. Покрытие тестами — **>80%**
3. Количество критических багов — **0**
4. Время восстановления после сбоя — **<1 час**

---

**Связанные документы:**
- [Пользовательские сценарии](./scenarios.md)
- [Обзор проекта](../overview/project_overview.md)
- [Архитектура системы](../architecture/system_architecture.md)

