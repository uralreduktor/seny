# üîç –ê—É–¥–∏—Ç —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (Frontend + Backend)

–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞: 27.11.2024

## üöÄ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (100% –≥–æ—Ç–æ–≤–æ)

### 1. –ú–æ–¥—É–ª—å "–¢–µ–Ω–¥–µ—Ä—ã" (Tender Management)

#### Backend

- **–°—É—â–Ω–æ—Å—Ç–∏ –ë–î**:
  - `Tender` (–æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞).
  - `TenderFile` (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤).
  - `AuditLog` (–∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π).
  - `Stage` (—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —ç—Ç–∞–ø–æ–≤).
  - `Position` (–ø–æ–∑–∏—Ü–∏–∏ —Ç–µ–Ω–¥–µ—Ä–∞).
- **API Endpoints**:
  - CRUD –¥–ª—è —Ç–µ–Ω–¥–µ—Ä–æ–≤ (`GET`, `POST`, `PUT` `/tenders`).
  - –°–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ø–µ—Ä–µ—Ö–æ–¥–∞ (`POST /tenders/{id}/change-stage`).
  - **–§–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç**:
    - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ (`POST /tenders/{id}/files`).
    - –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ (`DELETE /tenders/{id}/files/{file_id}`).
    - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å—Å—ã–ª–∫–∏ (`GET /tenders/{id}/files/{file_id}/url`).
- **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–Ω–¥–µ—Ä–∞ –≤ —Å—Ç–∞—Ç—É—Å–µ "Discovered".
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏.
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π (`stage_changed`, `file_uploaded`).

#### Frontend

- **–ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–µ–Ω–¥–µ—Ä–∞ (`TenderDetailPage`)**:
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–ª–µ–π (–∑–∞–∫–∞–∑—á–∏–∫, —Å—Ä–æ–∫–∏, –±—é–¥–∂–µ—Ç).
  - –°–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ç–µ–Ω–¥–µ—Ä–∞.
  - **–ë–ª–æ–∫ "–î–æ–∫—É–º–µ–Ω—Ç—ã" (`TenderFiles`)**:
    - –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ —Å –∏–∫–æ–Ω–∫–∞–º–∏ —Ç–∏–ø–æ–≤.
    - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —Å –≤—ã–±–æ—Ä–æ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–¢–ó, –ö–ü, –î–æ–≥–æ–≤–æ—Ä).
    - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤.
  - **–ë–ª–æ–∫ "–ò—Å—Ç–æ—Ä–∏—è" (`TenderAudit`)**:
    - –•—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ª–µ–Ω—Ç–∞ —Å–æ–±—ã—Ç–∏–π.
    - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π (–∫—Ç–æ, –∫–æ–≥–¥–∞, —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª).
  - **–¢–∞–±–ª–∏—Ü–∞ –ø–æ–∑–∏—Ü–∏–π**:
    - –°–ø–∏—Å–æ–∫ –ø–æ–∑–∏—Ü–∏–π —Å —Ü–µ–Ω–∞–º–∏ –∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏.

### 2. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL (—Å—Ö–µ–º—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ SQLAlchemy 2.0).
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤**: MinIO (–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ `app.core.storage`).
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å—Ç–µ–∫ (FastAPI + asyncpg).

---

## üöß –í —Ä–∞–±–æ—Ç–µ / –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è (Roadmap)

### 1. –ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ (High Priority)

- [ ] **Backend**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF/Excel –∏–∑ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–Ω–¥–µ—Ä–∞.
- [ ] **Frontend**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ö–ü –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π.

### 2. –†–∞—Å—á–µ—Ç —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ (Pricing AI)

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–¥—É–ª–µ–º `pricing_kb_ai`.
- [ ] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–∞: –≤—ã–±–æ—Ä –∞–Ω–∞–ª–æ–≥–æ–≤, —Ä–∞—Å—á–µ—Ç –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

### 3. –£–ª—É—á—à–µ–Ω–∏–µ UI/UX

- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π "–∏–Ω–ª–∞–π–Ω" (–≤ —Ç–∞–±–ª–∏—Ü–µ), –∞ –Ω–µ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ.
- [ ] –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ –≤ —Å–ø–∏—Å–∫–µ —Ç–µ–Ω–¥–µ—Ä–æ–≤.
- [ ] –î–∞—à–±–æ—Ä–¥ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ (–º–æ–∏ –∑–∞–¥–∞—á–∏, –≥–æ—Ä—è—â–∏–µ –¥–µ–¥–ª–∞–π–Ω—ã).

---

## üìã –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ API (Changelog)

### `POST /tenders/{id}/files`

–î–æ–±–∞–≤–ª–µ–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤.

- **Request**: `multipart/form-data` (file, category).
- **Response**: `TenderFile` object.
- **Side effect**: –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ `audit_logs`.

### `POST /tenders/{id}/change-stage`

–û–±–Ω–æ–≤–ª–µ–Ω. –¢–µ–ø–µ—Ä—å –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞:

1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞.
2. –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `audit_logs` —Å –ø–æ–ª—è–º–∏ `from` –∏ `to`.

---

## üîó –°—Å—ã–ª–∫–∏

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](./architecture/system_architecture.md)
- [–û–ø–∏—Å–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π](./functional/entities.md)
