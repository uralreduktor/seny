# Domain map номенклатуры

## Стейкхолдеры и сценарии

- **Коммерческий отдел** — использует номенклатуру для быстрого подбора аналогов и расчёта базовой цены при ответе на тендер.
- **Инженеры-конструкторы** — поддерживают эталонные характеристики, создают/редактируют классы продукции и карточки.
- **Аналитики по ценообразованию** — накапливают данные о методиках и применимости расчётов.
- **ML/RAG команды** — используют нормализованные карточки как корпус знаний для поиска и классификации.

## Связь с действующими модулями

| Связанный модуль                  | Точка интеграции                      | Что получает                                                                    | Что отдаёт                                                                          |
| --------------------------------- | ------------------------------------- | ------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------- |
| `tender_management` (`positions`) | Привязка позиции к эталонной карточке | Актуальные характеристики класса, базовые цены, ссылки на методики              | Частота использования, результаты расчётов, обратная связь по качеству соответствий |
| `pricing_kb_ai` (отложен)         | Методики расчёта и база знаний        | Описание карточки (параметры, файлы), используемые атрибуты                     | Статистика расчётов, вычисленные коэффициенты, версии методик                       |
| `docs/docflow` (бэклог)           | Генерация шаблонов КП и техпаспортов  | Структурированные данные карточки                                               | Подписанные документы, которые могут служить источником для актуализации            |
| `core/ai_components`              | Семантический поиск, классификация    | Векторные представления карточек и исторические маппинги позиций → номенклатура | Подсказки по классам, рекомендации для инженеров                                    |

## Потоки данных

1. **Входящие**: заявки/позиции из тендеров, внешние классификаторы (CPV, ОКПД2), исторические расчёты, каталоги производителей.
2. **Выходящие**: нормализованные карточки для позиций, базовые цены для расчётов, данные для аналитики и AI.
3. **Артефакты**: версии классов продукции, JSON‑схемы атрибутов, аудит изменений, словарь терминов.

## Связанные документы

- `docs/modules/tender_management.md` — текущая работа с позициями.
- `docs/modules/pricing_kb_ai.md` — отложенный модуль, описывающий методики.
- `docs/architecture/data_models.md` — актуальные модели БД (нуждается в синхронизации при реализации справочника).
