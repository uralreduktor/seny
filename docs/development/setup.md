# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

> ü§ñ **–î–ª—è AI-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞**:
>
> 1. **Environment**: –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ `/var/www/seny`.
> 2. **Backend**: Python 3.11+ (Poetry), FastAPI, Async SQLAlchemy.
> 3. **Frontend**: Node.js 20+ (LTS), Vite, React, TypeScript.
> 4. **Infrastructure**: Docker Compose –¥–ª—è –ë–î (PostgreSQL + pgvector), Redis, MinIO.
> 5. **Secrets**: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π `.env` (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥—å —Å–µ–∫—Ä–µ—Ç—ã). –ü—Ä–∏–º–µ—Ä –≤ `.env.example`.
> 6. **Ports**:
>    - Backend: `8000` (API) –∏–ª–∏ `8090` (–µ—Å–ª–∏ 8000 –∑–∞–Ω—è—Ç), `http://localhost:8000/docs` (Swagger).
>    - Frontend: `5173` (Dev), `3000` (Docker/Prod).
>    - MinIO: `9000` (API), `9001` (Console).
>    - Redis: `6379`.
>    - PostgreSQL: `5432`.

## 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç    | –í–µ—Ä—Å–∏—è            | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ                          |
| :----------- | :---------------- | :---------------------------------- |
| **OS**       | Ubuntu 22.04+     | -                                   |
| **Python**   | 3.11+             | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `pyenv` + `poetry` |
| **Frontend** | Node.js 20+ (LTS) | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `nvm`              |
| **Docker**   | 24.0+             | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Docker Compose v2         |
| **Git**      | 2.30+             | -                                   |

## 2. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker Compose)

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞ (–ë–î + Backend + Frontend) –∏–ª–∏ —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

### 2.1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ ENV

```bash
git clone <repository-url> /var/www/seny
cd /var/www/seny

# –°–æ–∑–¥–∞–Ω–∏–µ .env –∏–∑ –ø—Ä–∏–º–µ—Ä–∞
cp .env.example .env
# ‚ö†Ô∏è –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env, –∑–∞–¥–∞–≤ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –∏ –∫–ª—é—á–∏ API
```

### 2.2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

**–í–∞—Ä–∏–∞–Ω—Ç –ê: –¢–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–¥–∞)**

```bash
docker-compose up -d postgres redis minio
```

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫ (Production-like)**

```bash
docker-compose up -d --build
```

## 3. –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (Local Development)

### 3.1. Backend (Python / Poetry)

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–¥–µ—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `backend/`.

```bash
cd backend

# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ Poetry
poetry install

# 2. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–±–æ–ª–æ—á–∫–∏
poetry shell

# 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—â–∏–π .env)
cp .env.example .env
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ DATABASE_URL —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ localhost:5432

# 4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
alembic upgrade head

# 5. –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python scripts/create_admin.py

# 6. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
# –ï—Å–ª–∏ –ø–æ—Ä—Ç 8000 –∑–∞–Ω—è—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 8090)
uvicorn app.main:app --reload --host 0.0.0.0 --port 8090
```

### 3.2. Frontend (Node.js / Vite)

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–¥–µ—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `frontend/`.

```bash
cd frontend

# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è API –∫–ª–∏–µ–Ω—Ç–∞ (Optional)
# –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è openapi-generator-cli.
# –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–π –∫–ª–∏–µ–Ω—Ç –≤ src/lib/api.ts
# npm run generate-api

# 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

–î–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:5173` (–∏–ª–∏ —Å–ª–µ–¥—É—é—â–∏–π —Å–≤–æ–±–æ–¥–Ω—ã–π –ø–æ—Ä—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä `3001`, —Å–º. –∫–æ–Ω—Å–æ–ª—å).

## 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

| –°–µ—Ä–≤–∏—Å             | URL / –ö–æ–º–∞–Ω–¥–∞                                       | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç      |
| :----------------- | :-------------------------------------------------- | :----------------------- |
| **Backend Health** | `GET http://localhost:8090/health`                  | `{"status": "ok"}`       |
| **Swagger UI**     | `http://localhost:8090/docs`                        | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏   |
| **Frontend**       | `http://localhost:5173`                             | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ / –õ–æ–≥–∏–Ω |
| **MinIO Console**  | `http://localhost:9001`                             | –õ–æ–≥–∏–Ω (admin/password)   |
| **PostgreSQL**     | `docker-compose exec postgres psql -U seny -c "\l"` | –°–ø–∏—Å–æ–∫ –ë–î (seny_db)      |

## 5. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ú–∏–≥—Ä–∞—Ü–∏–∏

```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é
alembic revision --autogenerate -m "description"

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head

# –û—Ç–∫–∞—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–≥—Ä–∞—Ü–∏—é
alembic downgrade -1
```

### –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–°–±—Ä–æ—Å)

```bash
# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ç–æ–º–æ–≤ Docker (—É–¥–∞–ª–∏—Ç –ë–î –∏ —Ñ–∞–π–ª—ã!)
docker-compose down -v
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Frontend –ö–ª–∏–µ–Ω—Ç–∞

–û–±–Ω–æ–≤–ª—è–π—Ç–µ –∫–ª–∏–µ–Ω—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è API –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤:

```bash
cd frontend && npm run generate-api
```

## 6. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ pre-commit hooks.

**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pre-commit
pip install pre-commit

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ hooks
pre-commit install

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
pre-commit run --all-files
```

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –°–º. [docs/development/docs_validation.md](./docs_validation.md)

## 7. –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º (Troubleshooting)

| –ü—Ä–æ–±–ª–µ–º–∞                         | –í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞        | –†–µ—à–µ–Ω–∏–µ                                       |
| :------------------------------- | :----------------------- | :-------------------------------------------- |
| `pg_config executable not found` | –ù–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫ PostgreSQL | `sudo apt-get install libpq-dev`              |
| `connection refused` (–ë–î)        | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω     | `docker-compose up -d postgres`               |
| `alembic: command not found`     | –ù–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω venv      | `poetry shell` –∏–ª–∏ `source venv/bin/activate` |
| `CORS error` –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ        | –ù–µ–≤–µ—Ä–Ω—ã–π Origin          | –ü—Ä–æ–≤–µ—Ä—å `BACKEND_CORS_ORIGINS` –≤ `.env`       |
| `vector` extension missing       | –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω pgvector   | –ò—Å–ø–æ–ª—å–∑—É–π docker image `ankane/pgvector`      |

---

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](../architecture/system_architecture.md) ‚Äî –û–±–∑–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
- [API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](./api_docs.md) ‚Äî –î–µ—Ç–∞–ª–∏ endpoints.
- [Coding Standards](./coding_standards.md) ‚Äî –ü—Ä–∞–≤–∏–ª–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞.
